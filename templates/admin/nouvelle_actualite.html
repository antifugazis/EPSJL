{% extends "admin/base_admin.html" %}

{% block title %}Nouvelle Actualité - Administration{% endblock %}

{% block content %}
<div class="p-6 space-y-6">
    <!-- En-tête avec retour -->
    <div class="flex items-center gap-4">
        <a href="{{ url_for('admin.contenu', type='actualites') }}" 
           class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
            <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
        </a>
        <div>
            <h1 class="text-3xl font-bold text-gray-800">Nouvelle Actualité</h1>
            <p class="text-gray-600 mt-1">Créez une nouvelle actualité pour le bandeau défilant</p>
        </div>
    </div>

    <!-- Formulaire -->
    <div class="bg-white rounded-xl shadow-lg p-8 form-card">
        <form method="POST" action="{{ url_for('admin.nouvelle_actualite') }}" class="space-y-6">
            <!-- Contenu -->
            <div>
                <label for="content" class="block text-sm font-medium text-gray-700 mb-2">
                    Contenu de l'actualité <span class="text-red-500">*</span>
                </label>
                <input type="text" id="content" name="content" required maxlength="255"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all"
                       placeholder="Ex: Inscriptions ouvertes pour l'année scolaire 2024-2025">
                <p class="text-xs text-gray-500 mt-1">Maximum 255 caractères</p>
            </div>

            <!-- Priorité -->
            <div>
                <label for="priority" class="block text-sm font-medium text-gray-700 mb-2">
                    Priorité d'affichage
                </label>
                <input type="number" id="priority" name="priority" value="0" min="0" max="100"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all">
                <p class="text-xs text-gray-500 mt-1">Plus le nombre est élevé, plus l'actualité sera affichée en priorité (0-100)</p>
            </div>

            <!-- Active -->
            <div class="flex items-center">
                <input type="checkbox" id="active" name="active" checked
                       class="w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500">
                <label for="active" class="ml-3 text-sm font-medium text-gray-700">
                    Actualité active (visible sur le site)
                </label>
            </div>

            <!-- Boutons -->
            <div class="flex gap-4 pt-4">
                <button type="submit"
                        class="flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:from-green-700 hover:to-teal-700 transition-all font-medium shadow-lg hover:shadow-xl transform hover:scale-105">
                    Créer l'actualité
                </button>
                <a href="{{ url_for('admin.contenu', type='actualites') }}"
                   class="px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium">
                    Annuler
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Animations GSAP
    gsap.from('.form-card', {
        duration: 0.6,
        y: 30,
        opacity: 0,
        ease: 'power3.out'
    });

    gsap.from('.form-card > form > *', {
        duration: 0.5,
        y: 20,
        opacity: 0,
        stagger: 0.1,
        delay: 0.3,
        ease: 'power2.out'
    });
</script>
{% endblock %}
